 <div class="row">
      <div class="col-md-12">
        <h2 class="mb-4">üìö Qu·∫£n l√Ω S√°ch</h2>
      </div>
    </div>

    <!-- Search and Filter -->
    <div class="row mb-3">
      <div class="col-md-4">
        <div class="input-group">
          <input type="text" class="form-control" placeholder="T√¨m ki·∫øm s√°ch..." 
                 [(ngModel)]="searchTerm" (keyup.enter)="search()">
          <button class="btn btn-outline-secondary" type="button" (click)="search()">
            <i class="fas fa-search"></i>
          </button>
        </div>
      </div>
      <div class="col-md-3">
        <select class="form-select" [(ngModel)]="selectedCategoryId" (change)="search()">
          <option value="">T·∫•t c·∫£ th·ªÉ lo·∫°i</option>
          <option *ngFor="let category of categories" [value]="category.categoryId">
            {{category.categoryName}}
          </option>
        </select>
      </div>
      <div class="col-md-3">
        <select class="form-select" [(ngModel)]="selectedAuthorId" (change)="search()">
          <option value="">T·∫•t c·∫£ t√°c gi·∫£</option>
          <option *ngFor="let author of authors" [value]="author.authorId">
            {{author.fullName}}
          </option>
        </select>
      </div>
      <div class="col-md-2">
        <button class="btn btn-primary w-100" (click)="openBookModal()">
          <i class="fas fa-plus"></i> Th√™m s√°ch
        </button>
      </div>
    </div>

    <!-- Books Table -->
    <div class="card">
      <div class="card-body">
        <div class="table-responsive">
          <table class="table table-striped table-hover">
            <thead>
              <tr>
                <th>ISBN</th>
                <th>Ti√™u ƒë·ªÅ</th>
                <th>T√°c gi·∫£</th>
                <th>Th·ªÉ lo·∫°i</th>
                <th>NXB</th>
                <th>T·ªïng s·ªë</th>
                <th>C√≥ s·∫µn</th>
                <th>Thao t√°c</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let book of books">
                <td>{{book.isbn}}</td>
                <td>{{book.title}}</td>
                <td>{{book.author}}</td>
                <td>{{book.category?.categoryName}}</td>
                <td>{{book.publisher}}</td>
                <td>{{book.totalCopies}}</td>
                <td>
                  <span class="badge" 
                        [class.bg-success]="book.availableCopies > 0" 
                        [class.bg-danger]="book.availableCopies === 0">
                    {{book.availableCopies}}
                  </span>
                </td>
                <td>
                  <button class="btn btn-sm btn-outline-primary me-1" 
                          (click)="editBook(book)">
                    <i class="fas fa-edit"></i>
                  </button>
                  <button class="btn btn-sm btn-outline-danger" 
                          (click)="deleteBook(book.bookId!)">
                    <i class="fas fa-trash"></i>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Book Modal -->
    <div class="modal fade" id="bookModal" tabindex="-1">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">{{isEditMode ? 'S·ª≠a' : 'Th√™m'}} S√°ch</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <form #bookForm="ngForm">
              <div class="row">
                <div class="col-md-6 mb-3">
                  <label class="form-label">ISBN *</label>
                  <input type="text" class="form-control" 
                         [(ngModel)]="currentBook.isbn" 
                         name="isbn" required>
                </div>
                <div class="col-md-6 mb-3">
                  <label class="form-label">Ti√™u ƒë·ªÅ *</label>
                  <input type="text" class="form-control" 
                         [(ngModel)]="currentBook.title" 
                         name="title" required>
                </div>
              </div>
              
              <div class="row">
                <div class="col-md-6 mb-3">
                  <label class="form-label">Th·ªÉ lo·∫°i *</label>
                  <select class="form-select" [(ngModel)]="currentBook.categoryId" 
                          name="categoryId" required>
                    <option value="">Ch·ªçn th·ªÉ lo·∫°i</option>
                    <option *ngFor="let category of categories" [value]="category.categoryId">
                      {{category.categoryName}}
                    </option>
                  </select>
                </div>
                <div class="col-md-6 mb-3">
                  <label class="form-label">T√°c gi·∫£</label>
                  <select class="form-select" [(ngModel)]="selectedAuthorIds" 
                          name="authorIds" multiple>
                    <option *ngFor="let author of authors" [value]="author.authorId">
                      {{author.fullName}}
                    </option>
                  </select>
                </div>
              </div>

              <div class="row">
                <div class="col-md-6 mb-3">
                  <label class="form-label">Nh√† xu·∫•t b·∫£n</label>
                  <input type="text" class="form-control" 
                         [(ngModel)]="currentBook.publisher" 
                         name="publisher">
                </div>
                <div class="col-md-6 mb-3">
                  <label class="form-label">Ng√†y xu·∫•t b·∫£n</label>
                  <input type="date" class="form-control" 
                         [(ngModel)]="currentBook.publishedDate" 
                         name="publishedDate">
                </div>
              </div>

              <div class="row">
                <div class="col-md-6 mb-3">
                  <label class="form-label">T·ªïng s·ªë b·∫£n</label>
                  <input type="number" class="form-control" min="1"
                         [(ngModel)]="currentBook.totalCopies" 
                         name="totalCopies">
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
              H·ªßy
            </button>
            <button type="button" class="btn btn-primary" 
                    (click)="saveBook()" [disabled]="!bookForm.form.valid">
              {{isEditMode ? 'C·∫≠p nh·∫≠t' : 'Th√™m m·ªõi'}}
            </button>
          </div>
        </div>
      </div>
    </div>